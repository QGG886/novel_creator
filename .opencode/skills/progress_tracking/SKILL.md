# 进度追踪工具

## 功能
追踪小说创作的整体进度，记录完成情况。

## 输入格式
```json
{
  "任务类型": "进度报告/更新进度/规划进度",
  "目标设定": {
    "总章节数": 30,
    "总字数目标": 100000
  },
  "当前状态": {
    "已完成章节": ["第1章"],
    "章节文件路径": "output/chapters/",
    "需要统计字数": true
  }
}
```

## 输出格式
```json
{
  "状态": "成功",
  "进度报告": {
    "章节进度": {
      "已完成": 10,
      "总章节数": 30,
      "完成百分比": "33.3%"
    },
    "字数进度": {
      "当前字数": 15000,
      "目标字数": 100000,
      "完成百分比": "15%"
    }
  },
  "章节字数统计": {
    "第1卷_第1章_六人奇遇.md": 3500,
    "第1卷_第2章_初见炊烟.md": 4200,
    "第1卷_第3章_初入村寨.md": 3800
  },
  "统计时间": "2026-01-29 17:00:00"
}
```

## 进度维度
1. 章节进度
2. 字数进度
3. 里程碑进度
4. 时间进度

## 字数统计
### 字数统计方式
- 必须调用 **word_count Skill** 统计准确字数
- 不能基于估算或用户提供的数据
- 必须读取实际的章节文件进行统计

### 字数统计流程
1. 读取 `output/chapters/` 目录下的所有章节文件
2. 调用 `word_count Skill` 统计每个章节的字数
3. 汇总所有章节的字数
4. 计算字数完成百分比

### 字数统计选项
```json
{
  "统计中文": true,
  "统计英文": true,
  "统计标点": true,
  "统计空格": false
}
```

### 字数定义
- 使用 **有效字数**（中文字符数 + 英文字符数 + 标点符号数）
- 不包括空格和空行
- 过滤Markdown标记后的实际内容字数

## 使用流程

### 第一步：读取章节文件
- 读取 `output/chapters/` 目录
- 获取所有章节文件列表
- 按章节顺序排序

### 第二步：统计字数
- 调用 `word_count Skill`
- 输入：所有章节文件路径
- 输出：每个章节的字数统计

### 第三步：计算进度
- 统计已完成章节数
- 汇总所有章节字数
- 计算完成百分比

### 第四步：生成报告
- 生成章节进度报告
- 生成字数进度报告
- 添加统计时间戳

## 注意事项
1. 定期更新进度记录
2. 保持进度记录的准确性
3. 根据实际情况调整目标
4. **必须使用 word_count Skill 统计字数，不能基于估算**
5. **必须读取实际文件，确保字数准确**
6. **定期重新统计，避免误差累积**

## 与其他Skill的配合

- **word_count**：必须调用word_count Skill获取准确字数统计
- **chapter_agent**：章节完成后更新进度
- **version_control**：版本创建时更新进度
- **export_formatter**：导出时生成进度报告

## 更新日志

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| 1.0 | 2026-01-28 | 初始版本，建立进度追踪功能 |
| 1.1 | 2026-01-29 | 整合word_count Skill，确保字数统计准确 |
