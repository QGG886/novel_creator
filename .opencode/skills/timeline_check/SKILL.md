---
name: timeline_check
description: 检查时间线，包括时间顺序、时间跨度、年龄计算等，发现问题并提供具体修改方案
---

# 时间线检查Skill

## 功能

检查章节中的时间线是否连贯，时间顺序是否正确，时间跨度是否合理，发现问题并提供具体的修改方案。

---

## 检查维度

### 1. 时间线矛盾
- 事件时间顺序是否正确

### 2. 时间顺序错误
- 事件发生顺序是否逻辑合理

### 3. 时间跨度不合理
- 时间跨度是否合理

### 4. 年龄计算错误
- 角色年龄是否正确

---

## 输入格式

```json
{
  "章节内容": "章节完整文本",
  "章节信息": {
    "章节号": 4,
    "章节大纲": "第4章的大纲内容"
  },
  "已写章节": ["章节1", "章节2", "章节3"],
  "时间线": "完整时间线设定"
}
```

---

## 输出格式

```json
{
  "状态": "成功",
  "检查结果": "通过/不通过",
  "问题清单": [
    {
      "问题ID": "TL-001",
      "类型": "时间线矛盾/时间顺序错误/时间跨度不合理",
      "严重程度": "A/B/C",
      "位置": {
        "章节号": 4,
        "段落位置": "第2段",
        "对比位置": "第3章第5段"
      },
      "问题描述": "第4章说事件发生在'三天前'，但第3章说发生在'一周前'",
      "影响分析": "时间线矛盾，读者困惑",
      "修改方案": {
        "方案类型": "统一/调整",
        "具体操作": "统一时间描述",
        "修改后内容": "修改后的内容",
        "操作说明": "选择一个时间作为标准，修改另一处"
      },
      "可自动修复": true
    }
  ]
}
```

---

## 修改方案生成规则

### 时间线矛盾

**问题示例**：同一事件在不同章节时间描述不同

**修改方案**：
- 方案类型：统一
- 具体操作：统一时间描述
- 修改后内容：
  - 选择一个时间作为标准
  - 修改其他地方
- 操作说明：
  1. 对比不同时间描述
  2. 确定正确时间
  3. 统一所有描述

### 时间跨度不合理

**问题示例**：事件A到事件B需要3天，但描述为"第二天"

**修改方案**：
- 方案类型：调整
- 具体操作：调整时间描述
- 修改后内容：
  - 修改为合理的时间跨度
- 操作说明：
  1. 分析实际需要多少时间
  2. 修改时间描述

---

## 严重程度分级

### A类（严重）
- 核心事件时间矛盾
- 时间顺序完全混乱

### B类（中等）
- 次要事件时间不一致
- 时间跨度略有不合理

### C类（轻微）
- 细节时间可以更精确
