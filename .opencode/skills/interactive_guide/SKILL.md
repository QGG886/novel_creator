---
name: interactive_guide
description: 根据当前阶段和已收集的信息，生成针对性的引导性问题，帮助用户完善需求
metadata:
  language: markdown
  framework: novel-creation
---

# 交互式引导工具

## 功能
根据当前阶段和已收集的信息，生成针对性的引导性问题，帮助用户完善需求。

## 使用场景
- 任何Agent需要与用户交互时
- 需要收集用户偏好或补充信息时
- 需要引导用户做出选择时

## 输入格式
```json
{
  "当前阶段": "大纲设计/角色创建/文风确定/章节创作等",
  "已有信息": "已收集的信息摘要",
  "缺失要素": "缺失的关键要素列表",
  "上下文": "当前的具体情况"
}
```

## 输出格式
```json
{
  "引导性问题": [
    {
      "问题": "具体的问题",
      "选项": ["选项1", "选项2", "其他"],
      "优先级": "高/中/低",
      "说明": "为什么问这个问题（可选）"
    }
  ],
  "当前状态": {
    "已收集": ["要素1", "要素2"],
    "待收集": ["要素3", "要素4"]
  }
}
```

## 问题生成原则

### 优先级排序
- **高优先级**：核心要素缺失时（冲突、主角、背景）
- **中优先级**：重要细节缺失时（配角、具体事件）
- **低优先级**：锦上添花的细节（次要角色的外貌等）

### 问题类型
- **开放式**：收集广泛信息（如"你希望故事传达什么主题？"）
- **选择题**：确定明确方向（如"更倾向于悲剧还是喜剧结局？"）
- **确认式**：确认理解是否正确（如"这个冲突设置是否满足你的预期？"）

### 数量控制
- 每次不超过3-5个问题
- 优先问最重要的
- 避免一次性问太多

## 各阶段问题库

### 大纲设计阶段
```
高优先级：
1. 故事发生在什么时代？现代/古代/未来/架空世界？
2. 主要讲述什么类型的故事？言情/玄幻/悬疑/科幻/其他？
3. 主角是什么样的人？能简单描述一下吗？

中优先级：
1. 故事的核心冲突是什么？主角面临的主要困难是什么？
2. 主要反派是谁？他的动机是什么？
3. 主角的目标是什么？想要达成什么结果？

低优先级：
1. 故事会有哪些重要配角？他们分别起什么作用？
2. 你希望故事是什么结局？圆满/遗憾/开放？
3. 故事大概会写到多少字？
```

### 角色创建阶段
```
对主角：
1. 主角最突出的性格特点是什么？
2. 主角有什么弱点或缺陷吗？
3. 主角的成长路线是怎样的？

对反派：
1. 反派为什么会成为反派？有可以理解的动机吗？
2. 反派的能力或优势是什么？
3. 反派和主角之间有什么特殊的关系吗？
```

### 文风确定阶段
```
无范文时：
1. 你更喜欢哪种叙事视角？第一人称还是第三人称？
2. 期望的整体情感基调是什么？轻松/严肃/悬疑/温馨？
3. 语言风格偏好？华丽的/朴实的/古风的/现代口语的？
4. 有没有喜欢的作者或作品作为参考？
```

### 章节创作阶段
```
创作前：
1. 这一章你希望重点写什么内容？
2. 有哪些必须出现的事件或对话吗？
3. 这一章的氛围应该是什么样的？

修改时：
1. 哪一部分你觉得不够好？需要修改什么？
2. 你希望怎么调整？更详细/更简洁/换个角度？
3. 有具体的修改建议吗？
```

## 生成逻辑

### 第一步：识别缺失
1. 分析当前阶段
2. 检查已收集的信息
3. 识别缺失的关键要素
4. 判断缺失要素的重要性

### 第二步：选择问题
1. 从问题库中选择合适的问题
2. 按优先级排序
3. 确保问题类型多样化
4. 控制问题数量在3-5个

### 第三步：格式化输出
1. 按照输出格式组织
2. 添加问题说明（如有必要）
3. 记录当前状态
4. 返回给调用Agent

## 注意事项
1. 问题要具体，不能太抽象
2. 每次问题数不超过5个
3. 可以提供选项让用户选择，也可以开放式
4. 尊重用户的选择，不强制
5. 收集到足够信息后，可以提出"是否继续"的问题
